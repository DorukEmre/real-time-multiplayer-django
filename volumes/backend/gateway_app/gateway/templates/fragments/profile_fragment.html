 {% load i18n %}
 <div class="container text-center">
	<header style="min-height: 60vh; background: #dadbdc;
		  background: linear-gradient(to right, #747474, #333333);
		  color: white; clip-path: ellipse(25vw 2000vh at 50% 50%);
		  display: flex; align-items: center; justify-content: center;
		  margin-top: 80px;">
	  <div class="profile-page-details">
      <h1 style="margin-bottom: 1rem; align-self: flex-start;">{% trans "Profile page" %}</h1>
      {% if user.avatar %}
      <img src="{{ user.avatar.url }}" alt="{{ user.username }}" style="height: 10rem; width: 10rem; object-fit: center;
      border-radius: 50%; border: 2px solid #fff;">
      {% else %}
      <img src="https://api.dicebear.com/9.x/notionists/svg?seed=Jack" alt="{% trans "default icon" %}"
        style="height: 10rem; width: 10rem; object-fit: center;
        border-radius: 50%; border: 2px solid #fff;">
      {% endif %}
        <h1 style="font-weight: 400; font-size: 1.3rem; margin: 1rem 0;">{{ user.username }}</h1>
        <div style="display: flex; justify-content: center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12 ,2Z"></path>
          </svg>
          <p style="margin: 5  0 8px;">{{ user.city }}, {{ user.country }}</p>
        </div>
        <div style="display: flex;">
          <div class="col-4">
            <h4>{{ user.played_games }}</h4>
            <p>{% trans "Games" %}</p>
          </div>
          <div class="col-4">
            <h4>{{ user.wins }}</h4>
            <p>{% trans "Wins" %}</p>
          </div>
          <div class="col-4">
            <h4>{{ user.defeats }}</h4>
            <p>{% trans "Defeats" %}</p>
          </div>
        </div>
        <a href="{% url 'edit_profile' %}" class="btn btn-light" role="button" style="margin-right: 10px;">{% trans "Edit my profile" %}</a>
        <a href="{% url 'match_history' %}" class="btn btn-light" role="button" style="margin-right: 10px;">{% trans "Statistics" %}</a>
        <a href="{% url 'list_friends' %}" class="btn btn-dark" role="button" style="margin-right: 10px;">{% trans "All my friends" %}</a>
        <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#inviteFriendModal">
          {% trans "Invite a friend" %} </button>
      </div>
      </header>
</section>
  <!-- Button trigger modal -->
  
  
  <!-- Modal -->
  
  <div class="modal fade" id="inviteFriendModal" tabindex="-1" aria-labelledby="inviteFriendModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="profile-modal-content">
            <div class="modal-content" style="background-color: #333; color: #fff; border: 2px solid white;">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="inviteFriendModalLabel">{% trans "Let's invite a friend" %}</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true"></button>
                </div>
                <div class="modal-body">
                    <form method="post" id="type-invite-friend" action="{% url 'post_invite' %}">
                        <label for="{{ form.username.id_for_label }}" class="col-form-label" id="username_input">{{ form.username.label }}</label>
                        
                        <!-- Input field for username -->
                        <input type="text" id="usernameInput" class="form-control" name="username" autocomplete="off" aria-autocomplete="list">
                        
                        <!-- Store the user ID in a hidden input -->
                        <input type="hidden" id="userID" value="{{ request.user.id }}">
                        
                        <!-- Dropdown list for suggestions -->
                        <div id="suggestions-list" class="dropdown-menu" aria-labelledby="dropdownMenuButton" style="display: none;">
                            <!-- Suggestions will be populated here dynamically -->
                        </div>
                    
                        {% csrf_token %}
                        
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> {% trans "Close" %}</button>
                            <button type="submit" class="btn btn-light" data-bs-dismiss="modal">{% trans "Send invite" %}</button>
                        </div>
                    </form> 
                </div>
            </div>
        </div>
    </div>
</div>

